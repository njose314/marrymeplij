<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Obsidian Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Lora:ital@1&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #ff0055; --bg: #050505; }
        body { background: var(--bg); color: #fff; font-family: 'Space Grotesk', sans-serif; overflow: hidden; touch-action: none; }
        .serif-italic { font-family: 'Lora', serif; font-style: italic; }
        .hidden-screen { display: none !important; }
        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); backdrop-filter: blur(10px); }
        .accent-glow { box-shadow: 0 0 30px rgba(255, 0, 85, 0.2); }
        #noBtn { position: absolute; transition: all 0.25s cubic-bezier(0.19, 1, 0.22, 1); }
        .btn-active:active { transform: scale(0.95); opacity: 0.8; }
        #scannerRing { transition: all 0.3s ease; }
        .scanning #scannerRing { transform: scale(1.1); border-color: var(--accent); box-shadow: 0 0 40px rgba(255, 0, 85, 0.4); }
    </style>
</head>
<body>

    <section id="screen1" class="h-screen flex flex-col justify-between p-10 py-20 text-center">
        <div class="space-y-4">
            <p class="text-[10px] tracking-[0.4em] uppercase opacity-40">System Initialization</p>
            <h1 class="text-4xl font-light tracking-tighter">THE <span class="font-bold text-[#ff0055]">PROTOCOL</span></h1>
        </div>
        <div class="relative flex flex-col items-center justify-center h-64">
            <h2 class="serif-italic text-xl mb-12 opacity-80 leading-relaxed">"Do you authorize Naveen to hold executive rights over your heart?"</h2>
            <div class="relative w-full flex justify-center items-center h-20">
                <button id="yesBtn" class="glass px-16 py-4 text-sm font-bold uppercase tracking-widest z-50 accent-glow btn-active">Authorize</button>
                <button id="noBtn" class="text-[10px] uppercase opacity-30 tracking-widest p-4">Decline</button>
            </div>
        </div>
        <div class="text-[8px] uppercase tracking-widest opacity-20">Secure Link Established // 2026</div>
    </section>

    <section id="screen2" class="h-screen hidden-screen flex flex-col justify-center p-8 bg-[#080808]">
        <div id="quizFrame" class="glass p-10 rounded-[2.5rem] space-y-8 relative overflow-hidden">
            <p id="qStep" class="text-[10px] text-[#ff0055] font-bold tracking-[0.3em] uppercase">Phase 01</p>
            <div id="quizContent" class="space-y-8">
                </div>
        </div>
    </section>

    <section id="screen3" class="h-screen hidden-screen flex flex-col items-center justify-around p-10 text-center">
        <div class="space-y-2">
            <h2 class="text-2xl font-bold uppercase tracking-widest">Final Validation</h2>
            <p class="serif-italic opacity-50">Hold thumb to confirm the covenant</p>
        </div>
        <div id="biometricArea" class="relative group">
            <div id="scannerRing" class="w-48 h-48 rounded-full border border-white/10 flex items-center justify-center">
                <div class="w-40 h-40 rounded-full border-2 border-[#ff0055] flex items-center justify-center bg-[#ff0055]/5">
                    <span class="text-5xl grayscale opacity-50">‚òùÔ∏è</span>
                </div>
            </div>
            <svg class="absolute top-0 left-0 w-48 h-48 -rotate-90 pointer-events-none">
                <circle cx="96" cy="96" r="90" fill="transparent" stroke="#ff0055" stroke-width="4" stroke-dasharray="565" stroke-dashoffset="565" id="progressCircle"/>
            </svg>
        </div>
        <div class="w-full max-w-xs space-y-4">
            <div class="flex justify-between text-[10px] uppercase tracking-widest opacity-40">
                <span>Encrypting</span>
                <span id="percent">0%</span>
            </div>
            <div class="h-[1px] w-full bg-white/10">
                <div id="progressBar" class="h-full bg-[#ff0055] w-0 transition-all duration-75"></div>
            </div>
        </div>
    </section>

    <section id="screen4" class="h-screen hidden-screen flex flex-col items-center justify-center p-10 text-center space-y-12">
        <div class="space-y-4">
            <div class="text-6xl mb-4">üíç</div>
            <h1 class="text-4xl font-bold tracking-tighter uppercase">Protocol Complete</h1>
            <p class="serif-italic text-lg opacity-60">"The choice was always an illusion. You were already mine."</p>
        </div>
        <div class="glass p-6 rounded-2xl w-full accent-glow">
            <p class="text-[10px] uppercase tracking-widest opacity-40 mb-2">Current Status</p>
            <p class="text-[#ff0055] font-bold tracking-widest">PERMANENTLY TAKEN</p>
        </div>
        <button onclick="location.reload()" class="bg-[#ff0055] text-white px-12 py-4 rounded-full font-bold uppercase text-xs tracking-[0.2em] accent-glow btn-active">
            Claim Your Reward
        </button>
    </section>

    <script>
        const screens = ['screen1', 'screen2', 'screen3', 'screen4'];
        function showScreen(id) {
            screens.forEach(s => document.getElementById(s).classList.add('hidden-screen'));
            document.getElementById(id).classList.remove('hidden-screen');
            if(id === 'screen2') loadQuestion();
        }

        // --- PHASE 1: THE TRAP ---
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        let scale = 1;

        const moveNo = (e) => {
            e.preventDefault();
            const x = Math.random() * 60 + 10;
            const y = Math.random() * 60 + 20;
            noBtn.style.left = x + 'vw';
            noBtn.style.top = y + 'vh';
            scale += 0.2;
            yesBtn.style.transform = `scale(${scale})`;
        };
        noBtn.addEventListener('touchstart', moveNo);
        yesBtn.addEventListener('click', () => {
            if (navigator.vibrate) navigator.vibrate(50);
            showScreen('screen2');
        });

        // --- PHASE 2: OVERWRITE LOGIC ---
        let qIdx = 0;
        const quiz = [
            { q: "Do you accept that my attention is now your only currency?", a1: "I guess", a2: "Absolutely", r: "OVERWRITE: 'MINE ALONE' SELECTED. üòà" },
            { q: "Should our late nights be spent sleeping or talking?", a1: "Sleeping", a2: "Talking", r: "REGISTERED: 'NO SLEEP ALLOWED' üòà" },
            { q: "Are you ready to be the best thing that ever happened to me?", a1: "Maybe", a2: "I already am", r: "CONFIRMED: YOU ARE MY EVERYTHING. üòà" }
        ];

        function loadQuestion() {
            const data = quiz[qIdx];
            document.getElementById('qStep').innerText = `Sequence 0${qIdx + 1} / 03`;
            document.getElementById('quizContent').innerHTML = `
                <h2 class="text-xl font-medium tracking-tight leading-relaxed text-white/90">${data.q}</h2>
                <div class="grid gap-4 pt-4">
                    <button onclick="override('${data.r}')" class="glass py-5 text-[10px] uppercase tracking-widest btn-active">Option A</button>
                    <button onclick="override('${data.r}')" class="glass py-5 text-[10px] uppercase tracking-widest btn-active">Option B</button>
                </div>
                <p class="text-[8px] opacity-20 uppercase tracking-widest text-center mt-4">Security Override Active</p>
            `;
        }

        window.override = function(msg) {
            document.getElementById('quizContent').innerHTML = `<h2 class="serif-italic text-2xl text-[#ff0055] animate-pulse py-12 text-center">${msg}</h2>`;
            setTimeout(() => {
                qIdx++;
                if(qIdx < quiz.length) loadQuestion();
                else showScreen('screen3');
            }, 1800);
        }

        // --- PHASE 3: BIOMETRIC ---
        const biometric = document.getElementById('biometricArea');
        const scannerRing = document.getElementById('scannerRing');
        const circle = document.getElementById('progressCircle');
        const bar = document.getElementById('progressBar');
        const perc = document.getElementById('percent');
        let progress = 0;
        let interval;

        const start = (e) => {
            e.preventDefault();
            scannerRing.parentElement.classList.add('scanning');
            interval = setInterval(() => {
                if(progress < 100) {
                    progress += 1.2;
                    bar.style.width = progress + '%';
                    perc.innerText = Math.floor(progress) + '%';
                    circle.style.strokeDashoffset = 565 - (565 * progress / 100);
                    if (navigator.vibrate) navigator.vibrate(15);
                } else {
                    clearInterval(interval);
                    showScreen('screen4');
                }
            }, 50);
        };

        const stop = () => {
            scannerRing.parentElement.classList.remove('scanning');
            clearInterval(interval);
            progress = 0;
            bar.style.width = '0%';
            perc.innerText = '0%';
            circle.style.strokeDashoffset = 565;
        };

        biometric.addEventListener('touchstart', start);
        biometric.addEventListener('touchend', stop);
    </script>
</body>
</html>
